{"version":3,"sources":["../../src/LeftSide.jsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MACM,Q;;;AACF,sBAAY,KAAZ,EAAmB;AAAA;;AAAA,yFACT,KADS;AAElB;;;;2CAEoB;AAAA;;AACjB,aAAK,QAAL,CAAc,EAAd;;AAGA,eAAO,gBAAP,CAAwB,aAAxB,EAAuC,UAAC,KAAD,EAAW;AAChD,iBAAK,QAAL,CAAc,MAAM,IAApB;AACA,kBAAQ,GAAR,CAAY,MAAM,IAAlB;AACA,cAAI;AACF,oBAAQ,GAAR,CAAY,OAAK,KAAL,CAAW,MAAX,CAAkB,CAAlB,EAAqB,aAArB,CAAmC,eAAnC,CAAmD,CAAnD,EAAsD,KAAlE;AACD,WAFD,CAEE,OAAM,CAAN,EAAS,CAAE;AACd,SAND;AAOH;;;qCAEc;AACb,gBAAQ,GAAR,CAAY,IAAZ;AACA,gBAAQ,GAAR,CAAY,KAAK,KAAjB;AACA,YAAI,CAAC,KAAK,KAAL,CAAW,MAAhB,EAAwB;AACtB,iBAAO,EAAP;AACD;;;;;;;;;;;AAYD,YAAI,OAAO,CAAX;AACA,YAAI,cAAc,IAAI,KAAK,EAAT,GAAc,OAAd,GAAwB,GAA1C;;;AAGA,YAAI,KAAK,KAAK,KAAL,CAAW,MAAX,CAAkB,IAAlB,GAAyB,WAAzB,GAAuC,KAAhD;AACA,YAAI,KAAK,KAAK,GAAL,CAAU,KAAK,GAAL,CAAS,CAAC,KAAK,KAAK,KAAL,CAAW,MAAX,CAAkB,GAAxB,IAA+B,KAAK,EAApC,GAAyC,KAAlD,CAAV,KAAwE,KAAK,EAAL,GAAU,KAAlF,CAAT;AACA,aAAK,KAAK,WAAL,GAAmB,KAAxB;;AAEA,YAAI,MAAO,IAAI,KAAK,EAAT,GAAc,OAAf,IAA2B,MAAM,KAAK,GAAL,CAAS,CAAT,EAAW,IAAX,CAAjC,CAAV;AACA,YAAI,KAAK,CAAC,KAAK,WAAN,IAAqB,GAA9B;AACA,YAAI,KAAK,CAAC,KAAK,WAAN,IAAqB,GAA9B;;AAEA,YAAI,KAAK,KAAK,KAAL,CAAY,KAAK,IAAL,CAAW,KAAK,GAAhB,IAAwB,CAApC,CAAT;AACA,YAAI,KAAK,KAAK,KAAL,CAAY,KAAK,IAAL,CAAW,KAAK,GAAhB,IAAwB,CAApC,CAAT;AACA,aAAM,KAAK,GAAL,CAAS,CAAT,EAAW,IAAX,IAAmB,CAApB,GAAyB,EAA9B;;AAEA,eAAO,+IAA+I,IAA/I,GAAsJ,GAAtJ,GAA4J,EAA5J,GAAiK,GAAjK,GAAuK,EAAvK,GAA4K,OAAnL;AACD;;;kCAEW;AACV,YAAI,QAAQ,EAAZ;;AAEA,YAAI;AACF,cAAI,SAAS,KAAK,KAAL,CAAW,MAAX,CAAkB,CAAlB,EAAqB,aAArB,CAAmC,eAAnC,CAAmD,CAAnD,EAAsD,KAAnE;AACA,eAAK,IAAI,IAAT,IAAiB,MAAjB,EAAyB;AACvB,kBAAM,KAAK,OAAX,IAAsB,KAAK,KAA3B;AACD;AACF,SALD,CAKE,OAAM,CAAN,EAAS;AACT,iBAAO,IAAP;AACD;;AAED,eAAO,KAAP;AACD;;;mCAEY;AACX,YAAI;AACF,cAAI,MAAM,KAAK,KAAL,CAAW,OAAX,CAAmB,WAA7B;AACA,kBAAQ,GAAR,CAAY,GAAZ;AACA,kBAAQ,GAAR,CAAY,KAAK,KAAL,CAAW,OAAX,CAAmB,WAA/B;AACA,cAAI,MAAM;AACR,kBAAM,KADE;AAER,kBAAM,KAFE;AAGR,kBAAM;AAHE,WAAV;;AAMA,cAAI;AAAC,gBAAI,IAAJ,GAAW,IAAI,aAAf;AAA8B,WAAnC,CAAoC,OAAM,CAAN,EAAQ,CAAE;AAC9C,cAAI;AAAC,gBAAI,IAAJ,GAAW,IAAI,IAAf;AAAqB,WAA1B,CAA2B,OAAM,CAAN,EAAQ,CAAE;AACrC,cAAI;AAAC,gBAAI,IAAJ,GAAW,IAAI,MAAJ,CAAW,EAAtB;AAA0B,WAA/B,CAAgC,OAAM,CAAN,EAAQ,CAAE;;AAE1C,kBAAQ,GAAR,CAAY,GAAZ;AACA,iBAAO,GAAP;AACD,SAhBD,CAgBE,OAAM,CAAN,EAAS;AACT,iBAAO,IAAP;AACD;AACF;;;+BAEQ;AAAA;;AACL,eAAO;AAAA;UAAA,EAAK,WAAU,iBAAf;UACL,6BAAK,KAAI,mBAAT,EAA6B,OAAM,KAAnC,EAAyC,OAAO,EAAC,UAAU,OAAX,EAAoB,WAAU,MAA9B,EAAsC,cAAa,MAAnD,EAAhD,GADK;UAEL;AAAA;YAAA;YAAI,KAAK,KAAL,CAAW;AAAf,WAFK;UAGL,6BAAK,KAAK,KAAK,YAAL,EAAV,EAA+B,OAAM,MAArC,GAHK;UAIL,+BAJK;UAML;AAAA;YAAA;YAAA;AAAA,WANK;UAOH,YAAK;AACL,gBAAI,UAAU,OAAK,UAAL,EAAd;AACA,oBAAQ,GAAR,CAAY,OAAZ;AACA,gBAAI,OAAJ,EAAa;AACX,qBAAO;AAAA;gBAAA;gBACL;AAAA;kBAAA;kBAAK,QAAQ;AAAb,iBADK;gBAEL;AAAA;kBAAA;kBAAA;AAAA,iBAFK;gBAAA;gBAEkC,QAAQ,IAF1C;gBAE+C,+BAF/C;gBAGL;AAAA;kBAAA;kBAAA;AAAA,iBAHK;gBAAA;gBAG+B,QAAQ;AAHvC,eAAP;AAKD,aAND,MAMO;AACL,qBAAO;AAAA;gBAAA;gBAAA;AAAA,eAAP;AACD;AACF,WAZA,EAPI;UAqBL,+BArBK;UAuBL;AAAA;YAAA;YAAA;YAAS;AAAA;cAAA;cAAA;AAAA;AAAT,WAvBK;UAwBH,YAAI;AACJ,gBAAI,SAAS,OAAK,SAAL,EAAb;AACA,gBAAI,MAAJ,EAAY;AACV,qBAAO;AAAA;gBAAA;gBACL;AAAA;kBAAA,EAAK,WAAU,UAAf;kBACE;AAAA;oBAAA,EAAK,WAAU,kCAAf,EAAkD,MAAK,aAAvD,EAAqE,iBAAe,KAAK,KAAL,CAAW,OAAO,KAAP,GAAa,GAAxB,CAApF,EAAkH,iBAAc,GAAhI,EAAoI,iBAAc,KAAlJ,EAAwJ,OAAO,EAAC,UAAU,KAAX,EAAkB,OAAO,OAAO,KAAP,GAAa,GAAb,GAAmB,GAA5C,EAA/J;oBAAA;oBACS,KAAK,KAAL,CAAW,OAAO,KAAP,GAAa,GAAxB,CADT;oBAAA;AAAA;AADF,iBADK;gBAML;AAAA;kBAAA,EAAK,WAAU,UAAf;kBACE;AAAA;oBAAA,EAAK,WAAU,gCAAf,EAAgD,MAAK,aAArD,EAAmE,iBAAe,KAAK,KAAL,CAAW,OAAO,OAAP,GAAe,GAA1B,CAAlF,EAAkH,iBAAc,GAAhI,EAAoI,iBAAc,KAAlJ,EAAwJ,OAAO,EAAC,UAAU,KAAX,EAAkB,OAAO,OAAO,OAAP,GAAe,GAAf,GAAqB,GAA9C,EAA/J;oBAAA;oBACW,KAAK,KAAL,CAAW,OAAO,OAAP,GAAe,GAA1B,CADX;oBAAA;AAAA;AADF,iBANK;gBAWL;AAAA;kBAAA,EAAK,WAAU,UAAf;kBACE;AAAA;oBAAA,EAAK,WAAU,mCAAf,EAAmD,MAAK,aAAxD,EAAsE,iBAAe,KAAK,KAAL,CAAW,OAAO,IAAP,GAAY,GAAvB,CAArF,EAAkH,iBAAc,GAAhI,EAAoI,iBAAc,KAAlJ,EAAwJ,OAAO,EAAC,UAAU,KAAX,EAAkB,OAAO,OAAO,IAAP,GAAY,GAAZ,GAAkB,GAA3C,EAA/J;oBAAA;oBACQ,KAAK,KAAL,CAAW,OAAO,IAAP,GAAY,GAAvB,CADR;oBAAA;AAAA;AADF,iBAXK;gBAgBL;AAAA;kBAAA,EAAK,WAAU,UAAf;kBACE;AAAA;oBAAA,EAAK,WAAU,mCAAf,EAAmD,MAAK,aAAxD,EAAsE,iBAAe,KAAK,KAAL,CAAW,OAAO,GAAP,GAAW,GAAtB,CAArF,EAAiH,iBAAc,GAA/H,EAAmI,iBAAc,KAAjJ,EAAuJ,OAAO,EAAC,UAAU,KAAX,EAAkB,OAAO,OAAO,GAAP,GAAW,GAAX,GAAiB,GAA1C,EAA9J;oBAAA;oBACO,KAAK,KAAL,CAAW,OAAO,GAAP,GAAW,GAAtB,CADP;oBAAA;AAAA;AADF,iBAhBK;gBAqBL;AAAA;kBAAA,EAAK,WAAU,UAAf;kBACE;AAAA;oBAAA,EAAK,WAAU,cAAf,EAA8B,MAAK,aAAnC,EAAiD,iBAAe,KAAK,KAAL,CAAW,OAAO,OAAP,GAAe,GAA1B,CAAhE,EAAgG,iBAAc,GAA9G,EAAkH,iBAAc,KAAhI,EAAsI,OAAO,EAAC,UAAU,KAAX,EAAkB,OAAO,OAAO,OAAP,GAAe,GAAf,GAAqB,GAA9C,EAA7I;oBAAA;oBACW,KAAK,KAAL,CAAW,OAAO,OAAP,GAAe,GAA1B,CADX;oBAAA;AAAA;AADF;AArBK,eAAP;AA2BD,aA5BD,MA4BO;AACL,qBAAO;AAAA;gBAAA;gBAAA;AAAA,eAAP;AACD;AACF,WAjCA,EAxBI;UA2DL,+BA3DK;UA4DL;AAAA;YAAA;YAAA;AAAA;AA5DK,SAAP;AA8DH;;;;IA1JkB,MAAM,S;;oBA6Jd,Q","file":"LeftSide.js","sourcesContent":["\nclass LeftSide extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentWillMount() {\n        this.setState({\n        });\n\n        events.addEventListener('changeFocus', (event) => {\n          this.setState(event.data);\n          console.log(event.data);\n          try {\n            console.log(this.state.watson[0].document_tone.tone_categories[0].tones);\n          } catch(e) {}\n        });\n    }\n\n    getNasaImage() {\n      console.log(this);\n      console.log(this.state);\n      if (!this.state.coords) {\n        return \"\";\n      }\n\n      // var n = Math.pow(2, 4);\n      // var lat_rad = this.state.coords.lat / 180 * Math.PI;\n      // var xtile = Math.floor(n * ((this.state.coords.long + 180) / 360)\n      // var ytile = Math.floor(n * (1 - (Math.log(Math.tan(lat_rad) + 1/Math.cos(lat_rad)) / Math.PI)) / 2);\n\n        // mx, my = self.LatLonToMeters(lat, lng)\n        // tx, ty = self.MetersToTile(mx, my, zoom)\n        // return self.GoogleTile(tx, ty, zoom)\n\n\n      var zoom = 5;\n      var originShift = 2 * Math.PI * 6378137 / 2.0;\n      // var originShift = 0;\n\n      var mx = this.state.coords.long * originShift / 180.0;\n      var my = Math.log( Math.tan((90 + this.state.coords.lat) * Math.PI / 360.0 )) / (Math.PI / 180.0);\n      my = my * originShift / 180.0;\n\n      var res = (2 * Math.PI * 6378137) / (256 * Math.pow(2,zoom));\n      var px = (mx + originShift) / res;\n      var py = (my + originShift) / res;\n\n      var tx = Math.floor( Math.ceil( px / 256 ) - 1 );\n      var ty = Math.floor( Math.ceil( py / 256 ) - 1 );\n      ty = (Math.pow(2,zoom) - 1) - ty;\n\n      return \"http://map1.vis.earthdata.nasa.gov/wmts-webmerc/MODIS_Terra_CorrectedReflectance_TrueColor/default/2016-04-23/GoogleMapsCompatible_Level9/\" + zoom + \"/\" + ty + \"/\" + tx + \".jpeg\";\n    }\n\n    getWatson() {\n      var tones = {};\n\n      try {\n        var _tones = this.state.watson[0].document_tone.tone_categories[0].tones;\n        for (var tone of _tones) {\n          tones[tone.tone_id] = tone.score;\n        }\n      } catch(e) {\n        return null;\n      }\n\n      return tones;\n    }\n\n    getWeather() {\n      try {\n        var obv = this.state.weather.observation;\n        console.log(obv);\n        console.log(this.state.weather.observation);\n        var ret = {\n          text: \"N/A\",\n          wind: \"N/A\",\n          temp: \"N/A\"\n        };\n\n        try {ret.text = obv.phrase_32char;} catch(e){}\n        try {ret.wind = obv.wdir;} catch(e){}\n        try {ret.temp = obv.metric.rh;} catch(e){}\n\n        console.log(ret);\n        return ret;\n      } catch(e) {\n        return null;\n      }\n    }\n\n    render() {\n        return <div className=\"container-fluid\">\n          <img src=\"/images/based.png\" width=\"50%\" style={{maxWidth: \"100px\", marginTop:\"20px\", marginBottom:\"20px\"}}/>\n          <p>{this.state.title}</p>\n          <img src={this.getNasaImage()} width=\"100%\" />\n          <hr/>\n\n          <h5>Weather</h5>\n          {(()=> {\n            var weather = this.getWeather();\n            console.log(weather);\n            if (weather) {\n              return <div>\n                <h6>{weather.text}</h6>\n                <strong>Wind Direction:</strong>&nbsp;{weather.wind}<br/>\n                <strong>Temperature:</strong>&nbsp;{weather.temp}\n              </div>\n            } else {\n              return <p>N/A</p>\n            }\n          })()}\n          \n          <hr/>\n\n          <h5>Mood <small>(Powered by Watson)</small></h5>\n          {(()=>{\n            var watson = this.getWatson();\n            if (watson) {\n              return <div>\n                <div className=\"progress\">\n                  <div className=\"progress-bar progress-bar-danger\" role=\"progressbar\" aria-valuenow={Math.floor(watson.anger*100)} aria-valuemin=\"0\" aria-valuemax=\"100\" style={{minWidth: \"2em\", width: watson.anger*100 + \"%\"}}>\n                    Anger {Math.floor(watson.anger*100)}%\n                  </div>\n                </div>\n                <div className=\"progress\">\n                  <div className=\"progress-bar progress-bar-info\" role=\"progressbar\" aria-valuenow={Math.floor(watson.disgust*100)} aria-valuemin=\"0\" aria-valuemax=\"100\" style={{minWidth: \"2em\", width: watson.disgust*100 + \"%\"}}>\n                    Disgust {Math.floor(watson.disgust*100)}%\n                  </div>\n                </div>\n                <div className=\"progress\">\n                  <div className=\"progress-bar progress-bar-warning\" role=\"progressbar\" aria-valuenow={Math.floor(watson.fear*100)} aria-valuemin=\"0\" aria-valuemax=\"100\" style={{minWidth: \"2em\", width: watson.fear*100 + \"%\"}}>\n                    Fear {Math.floor(watson.fear*100)}%\n                  </div>\n                </div>\n                <div className=\"progress\">\n                  <div className=\"progress-bar progress-bar-success\" role=\"progressbar\" aria-valuenow={Math.floor(watson.joy*100)} aria-valuemin=\"0\" aria-valuemax=\"100\" style={{minWidth: \"2em\", width: watson.joy*100 + \"%\"}}>\n                    Joy {Math.floor(watson.joy*100)}%\n                  </div>\n                </div>\n                <div className=\"progress\">\n                  <div className=\"progress-bar\" role=\"progressbar\" aria-valuenow={Math.floor(watson.sadness*100)} aria-valuemin=\"0\" aria-valuemax=\"100\" style={{minWidth: \"2em\", width: watson.sadness*100 + \"%\"}}>\n                    Sadness {Math.floor(watson.sadness*100)}%\n                  </div>\n                </div>\n              </div>\n            } else {\n              return <p>N/A</p>\n            }\n          })()}\n\n          <hr/>\n          <p>Made by Aris Koumis and Henry Tran.</p>\n        </div>;\n    }\n}\n\nexport default LeftSide;\n\n"]}